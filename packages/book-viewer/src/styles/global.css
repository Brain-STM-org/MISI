/**
 * Shared styles for book-viewer
 *
 * Note: This file does NOT include Tailwind directives.
 * Each course's book project should have its own CSS that imports this
 * and includes the Tailwind directives.
 *
 * Example usage in course/swe/book/src/styles/global.css:
 *   @tailwind base;
 *   @tailwind components;
 *   @tailwind utilities;
 *   @import '@repo/book-viewer/styles';
 */

/* Screen reader only - visually hidden but accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Skip link - hidden until focused */
.skip-link {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.skip-link:focus {
  position: fixed;
  top: 1rem;
  left: 1rem;
  z-index: 9999;
  width: auto;
  height: auto;
  padding: 0.75rem 1rem;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
  background-color: #2563eb;
  color: white;
  font-weight: 500;
  border-radius: 0.5rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* Font size utilities - responsive with mobile consideration */
.font-size-sm {
  --prose-font-size: 0.9375rem;    /* 15px */
  --prose-line-height: 1.7;
}

.font-size-md {
  --prose-font-size: 1.0625rem;    /* 17px - slightly larger than default for readability */
  --prose-line-height: 1.75;
}

.font-size-lg {
  --prose-font-size: 1.1875rem;    /* 19px */
  --prose-line-height: 1.8;
}

/* Apply font size to prose content */
.font-size-sm .prose,
.font-size-md .prose,
.font-size-lg .prose {
  font-size: var(--prose-font-size);
  line-height: var(--prose-line-height);
}

/* Mobile: slightly smaller base but maintain ratios */
@media (max-width: 640px) {
  .font-size-sm { --prose-font-size: 0.875rem; }    /* 14px */
  .font-size-md { --prose-font-size: 1rem; }         /* 16px */
  .font-size-lg { --prose-font-size: 1.125rem; }     /* 18px */
}

/* Focus mode - hide navigation elements */
.focus-mode #sidebar {
  transform: translateX(-100%);
}

.focus-mode #sidebar-toggle {
  display: none;
}

.focus-mode .concept-review-sidebar {
  display: none;
}

/* Focus mode: expand content area */
.focus-mode .content-with-sidebar {
  margin-left: 0;
}

/* Focus mode: show exit button */
.focus-mode-exit {
  display: none;
}

.focus-mode .focus-mode-exit {
  display: flex;
}

/* Animation utilities */
.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Custom semantic colors for pedagogical elements */
.bg-concept-light {
  background-color: #dbeafe;
}

.dark .bg-concept-dark {
  background-color: #1e3a5f;
}

.border-concept-border {
  border-color: #3b82f6;
}

.bg-question-light {
  background-color: #fef3c7;
}

.dark .bg-question-dark {
  background-color: #78350f;
}

.border-question-border {
  border-color: #f59e0b;
}

.bg-checkpoint-light {
  background-color: #d1fae5;
}

.dark .bg-checkpoint-dark {
  background-color: #064e3b;
}

.border-checkpoint-border {
  border-color: #10b981;
}

.bg-exercise-light {
  background-color: #f3e8ff;
}

.dark .bg-exercise-dark {
  background-color: #581c87;
}

.border-exercise-border {
  border-color: #a855f7;
}
